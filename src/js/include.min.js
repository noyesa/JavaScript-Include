
(function(){var HttpRequest=function(url,callBack,async){this.url=url;this.callBack=callBack||null;this.async=async||false;this.start();};HttpRequest.prototype={getRequestObject:function(){var xhr=false;if(window.XMLHttpRequest){xhr=new XMLHttpRequest();}else if(window.ActiveXObject){try{xhr=new ActiveXObject('Msxml2.XMLHTTP');}catch(e){try{xhr=new ActiveXObject('Microsoft.XMLHTTP');}catch(e){xhr=false;}}}
return xhr;},start:function(){var request=this.getRequestObject();if(request){request.open('GET',this.url,this.async);request.send(null);if(this.async){request.onreadystatechange=function(){if(request.readyState===4){if(request.status===200||request.status===304){this.parseResponse(request.responseText);}}}.apply(this);}else{this.parseResponse(request.responseText);}}else{throw new Error("Couldn't create HTTP object.");}},parseResponse:function(responseText){if(this.callBack){this.callBack(responseText);}
this.responseText=responseText;}};var SourceFile=function(path){this.path=path;this.name=this.fileName();};SourceFile.prototype={parse:function(){var wrapper='(function () { '+this.source+'})();';eval(wrapper);},download:function(){var request=new HttpRequest(this.path,null,false);this.source=request.responseText;},fileName:function(){var nameSplit,fileName;nameSplit=this.path.split("/");fileName=nameSplit[nameSplit.length-1];return fileName;},valueOf:function(){return this.fileName();},toString:function(){return this.valueOf();}};var loaded=function(){var files=[];return{addFile:function(file){if(this.hasFile(file)){this.removeFile(file);}
files.push(file);},removeFile:function(file){for(var i=0,il=files.length;i<il;i++){if(files[i].name===file.name){files.splice(i,1);}}},hasFile:function(file){for(var i=0,il=files.length;i<il;i++){if(files[i].name===file.name){return true;}}
return false;},getFile:function(file){for(var i=0,il=files.length;i<il;i++){if(files[i].name===file.name){return files[i];}}}};}();window.namespace=function(){var i,il,objects,start,root,j,jl;for(i=0,il=arguments.length;i<il;i++){objects=arguments[i].split(".");start=(objects[0]==="window")?1:0;root=window;for(j=start,jl=objects.length;j<jl;j++){root[objects[j]]=root[objects[j]]||{};root=root[objects[j]];}}
return root;};window.include=function(path){var file=new SourceFile(path);if(loaded.hasFile(file)){return true;}
file.download();try{file.parse();}catch(e){throw new Error("Exceptions in "+file+": "+e.message);}
loaded.addFile(file);return true;};window.reload=function(path,redownload){redownload=redownload||false;var newFile,file=new SourceFile(path);if(loaded.hasFile(file)){newFile=loaded.getFile(file);if(redownload){newFile.download();}
newFile.parse();return true;}
return include(path);};})();